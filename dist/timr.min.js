(function(){"use strict";if(typeof Object.assign!="function"){(function(){Object.assign=function(t){"use strict";if(t===undefined||t===null){throw new TypeError("Cannot convert undefined or null to object")}var r=Object(t);for(var n=1;n<arguments.length;n++){var e=arguments[n];if(e!==undefined&&e!==null){for(var i in e){if(e.hasOwnProperty(i)){r[i]=e[i]}}}}return r}})()}var t=function(t){return{startTime:new TypeError("The starting time needs to be a number (seconds) or a string representation of the time, e.g. 10:00. Instead got: "+t),incorrectFormat:new Error("Provided time is not in the correct format. Expected HH:MM:SS / MM:SS / SS, got: "+t),outputFormat:new Error("Incorrect outputFormat, expected a string: HH:MM:SS, MM:SS or SS. Instead got: "+t),eventFunctions:new TypeError("Ticker/finish requires a function, instead got: "+t)}};function r(r,n){switch(r){case"outputFormat":if(typeof n!=="string"){throw t(typeof n).outputFormat}if(n!=="HH:MM:SS"&&n!=="MM:SS"&&n!=="SS"){throw t(n).outputFormat}}}function n(t){var n={outputFormat:"MM:SS"};for(var e in t){r(e,t[e])}return Object.assign({},n,t)}function e(t){t=t.split(":");if(t.length===3&&(+t[0]<0||+t[0]>23||isNaN(+t[0])||(+t[1]<0||+t[1]>59||isNaN(+t[1]))||(+t[2]<0||+t[2]>59||isNaN(+t[2])))){return true}if(t.length===2&&(+t[0]<0||+t[0]>59||isNaN(+t[0])||(+t[1]<0||+t[1]>59||isNaN(+t[1])))){return true}if(t.length===1&&(+t[0]<0||+t[1]>59||isNaN(+t[0]))){return true}return false}function i(t){return t.split(":").map(function(t,r,n){if(n.length===1){return+t}if(n.length===2){if(r===0){return+t*60}return+t}if(n.length===3){if(r===0){return+t*60*60}if(r===1){return+t*60}return+t}}).reduce(function(t,r){return t+r},0)}function o(t){return t<10?"0"+t:""+t}function s(t,r){this.timer=null;this.events={};this.running=false;this.options=r;this.startTime=t;this.currentTime=t}s.prototype.on=function(t,r){if(!Array.isArray(this.events[t])){this.events[t]=[]}this.events[t].push(r)};s.prototype.emit=function(t){if(!this.events[t]||this.events[t].length===0){return}var r=[];for(var n=1,e=arguments.length;n<e;n++){r.push(arguments[n])}for(var i=0,o=this.events[t].length;i<o;i++){this.events[t][i].apply(this,r)}};s.prototype.start=function(){if(!this.running){this.running=true;if(this.startTime>0){this.timer=setInterval(this.countdown.bind(this),1e3)}else{this.timer=setInterval(this.stopwatch.bind(this),1e3)}}else{console.warn("Timer already running")}return this};s.prototype.pause=function(){this.clear();this.running=false;return this};s.prototype.stop=function(){this.clear();this.running=false;this.currentTime=this.startTime;return this};s.prototype.clear=function(){clearInterval(this.timer);return this};s.prototype.ticker=function(r){if(typeof r!=="function"){throw t(typeof r).eventFunctions}this.on("ticker",r);return this};s.prototype.finish=function(r){if(typeof r!=="function"){throw t(typeof r).eventFunctions}this.on("finish",r);return this};s.prototype.stopwatch=function(){this.currentTime+=1;this.emit("ticker",this.formatTime(),this.currentTime);return this};s.prototype.countdown=function(){this.currentTime-=1;this.emit("ticker",this.formatTime(),this.currentTime,this.startTime);if(this.currentTime<=0){this.emit("finish");this.stop()}return this};s.prototype.formatTime=function(){var t=this.currentTime,r=t/60;if(r>=1){var n=r/60;r=Math.floor(r);if(n>=1){n=Math.floor(n);return o(n)+":"+o(r-n*60)+":"+o(t-r*60)}return(this.options.outputFormat==="HH:MM:SS"?"00:":"")+o(r)+":"+o(t-r*60)}return(this.options.outputFormat==="HH:MM:SS"?"00:00:":this.options.outputFormat==="MM:SS"?"00:":"")+o(t)};s.prototype.getCurrentTime=function(){return this.currentTime};s.prototype.isRunning=function(){return this.running};function u(r,o){r=r||0;if(typeof r==="string"){if(e(r)){throw t(r).incorrectFormat}return new s(i(r),n(o))}if(typeof r!=="number"){throw t(typeof r).startTime}return new s(r,n(o))}window.Timr=u})();